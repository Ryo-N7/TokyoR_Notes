---
always_allow_html: yes
output: 
  md_document:
    variant: markdown_github
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(felp)
library(printr)
```

<img src="../assets/2019-04-24-tokyoR-77_files/tokyorlogo.PNG" style="display: block; margin: auto;" width = "350" />

With the arrival of summer, another [TokyoR User Meetup](https://tokyor.connpass.com/event/130254/)!  On May 25th, useRs from all over Tokyo (and some even from further afield - including Kan Nishida of [Exploratory](https://exploratory.io/), all the way from California!) flocked to Jimbocho, Tokyo for another jam-packed session of #rstats hosted by [Mitsui Sumitomo Insurance Group](https://www.ms-ins.com/english/).

Like my previous round up posts (for [TokyoR #76](https://ryo-n7.github.io/2019-03-07-tokyoR-76-roundup/) and [TokyoR #77](https://ryo-n7.github.io/2019-04-24-tokyoR-77/)) I will be going over around half of all the talks. Hopefully, my efforts will help spread the vast knowledge of Japanese R users to the wider R community. Throughout I will also post helpful blog posts and links from other sources if you are interested in learning more about the topic of a certain talk. You can follow __Tokyo.R__ by searching for the [#TokyoR](https://twitter.com/hashtag/TokyoR) hashtag on Twitter.

# BeginneR Session #1

As with every [TokyoR](http://tokyor.connpass.com/) meetup, we began with a set of beginner user focused talks:

- [Reading in data with R by y_mattu](https://github.com/ymattu/TokyoR78)
- [Visualization with R by koriakane](https://speakerdeck.com/nozomi_miyazaki/tokyo-dot-r-number-77-chu-xin-zhe-setusiyon1-ke-shi-hua-pato)
- [Data analysis with R by kilometer00](https://speakerdeck.com/kilometer/tokyo-dot-r-number-78-beginnersession-data-analysis)

# Main Talks

## @tanakafreelance 	Radiantによるデータ分析入門 	

- [Slides](https://www.slideshare.net/ssuser5aee94/78th-tokyor-radiant)

`@tanakafreelance` talked about [Radiant](https://radiant-rstats.github.io/), which is a platform-independent browser-based GUI for business analytics that was developed by [Vincent Nijs](). It is a tool for business analytics purposes and is based on `Shiny`. After installation from CRAN you can launch it via using `radiant::launcher()`. Most of this presentation was a live demo by `@tanakafreelance` show a lot of the functionality offered by Radiant such as creating reproducible reports with RMarkdown, writing your own R code to use within the GUI, creating and evaluating models (linear/logistic regression, neural networks, naive bayes, and more), and design of experiments (DOE)!

![](https://i.ytimg.com/vi/7L3hDpLw53I/maxresdefault.jpg)

You can run it from a variety of set ups from online, offline, on shinyapps.io, shiny server, and even on a cloud service like AWS via a customized Docker container. For a comprehensive introduction to Radiant's full capabilities you can check out its awesome website [here](https://radiant-rstats.github.io/docs/index.html) full of videos and vignettes!

- [Radiant website](https://radiant-rstats.github.io/docs/)
- [Radiant Github](https://github.com/radiant-rstats/radiant)

## @kotaku08 	Transitioning a company to use R!

- [Slides](https://speakerdeck.com/kosshi/r-package-for-a-team)

`@kotaku08` talked about his experiences in data analytics and ways he pushed for the usage of R at his company, VALUES. One of the first things he realized upon entering the company was how the skillset of the team was more of that of data/system engineers rather than data analysts. After some time he found three big problems with his working environment that he wanted to solve:

1. Mismatch between the tool used and the task needed done
  - easy data manipulation with PHP.
  - complicated data manipulation with Excel.

2. What was this again?! (Illegible! Non-reproducible! Non-reusable!)
  - Extremely convoluted Excel formulas that look like they could be banned by the `Malleus Maleficarum`.
  - Only have the **results** in an Excel sheet.
  - If it was a visualization task, it was all done in Tableau...

3. Data extraction being a painful process...
  - Connecting to `Redshift` is a pain!

While pondering these problems, he came across [this article](https://medium.com/airbnb-engineering/using-r-packages-and-education-to-scale-data-science-at-airbnb-906faa58e12d) from AirBnB that highlighted their transition to building R tools and teaching R across the company. The key takeaways that `@kotaku08` took from the article was:

- Most analysts at AirBnB use R.
- Intracompany package: `Rbnb`.
- Efforts put into R education and conducting workshops.
- Data analysis is both efficient AND reproducible!

Taking these lessons to heart he decided to implement #rstats learning sessions as well as create a company R package! One of the main functionalities of VALUES' main R package is being able to access data from Redshift and in tandem with the various packages in the `cloudyr` project has made getting data much more easier for `@kotaku08` and his team.

Another big step was educating fellow employees about #rstats. 

For __existing__ employees:
1. Spread rumors about how accessing data is much easier with R...
2. Those skilled in other scripting languages organically come over to check R out!

For __new__ employees:
- Emphasize how R is __THE__ standard at the company, 
- "Graduate hires", most of whom have no programming experience, are put into R bootcamps
- After 3 months of hard work, able to use the `tidyverse` for analytical tasks!

As a result of these efforts 80% of employees can now use R and the internal company package has two new maintainers (both graduate hires!) to work alongside `kotaku08`.

Some other resources:

- [List of Companies Using R! (With explanatory blogposts/articles)](https://github.com/ThinkR-open/companies-using-r)
- [Scaling Knowledge at AirBnB](https://medium.com/airbnb-engineering/scaling-knowledge-at-airbnb-875d73eff091)
- [Enterprise Web Services with Neural Networks Using R and Tensorflow](https://opensource.t-mobile.com/blog/posts/r-tensorflow-api/)
- ["Putting empathy in action: Building a 'community of practice' for analytics in a global corporation" - JD Long (at RStudio::Conf 2019)](https://resources.rstudio.com/rstudio-conf-2019/putting-empathy-in-action-building-a-community-of-practice-for-analytics-in-a-global-corporation)

## @tomkxy 	Making your code faster: Introduction to vectorisation and parallel computing (English with demonstrations) 

- [Slides](https://github.com/TomKellyGenetics/TokyoR78)

`@tomkxy` presented in English (he's a Kiwi that works for RIKEN!) on vectorizing your code and parallel computing with R. In direct response to a lot of the accusations that "R is slow", Tom talked about different techniques to use to make your R code faster along with some some demonstrations (the RMD can be found [here](https://github.com/TomKellyGenetics/TokyoR78/blob/master/demo.Rmd)).

![](https://i.imgur.com/KxNrMZN.png)

One of my key take-aways from this talk was, "Code first, optimize later!". In that it's important to not get stuck doing premature optimization, especially if you might not actually need to use the code again anyways! Sometimes parallel computing may not always be the fastest solution due to overhead costs associated with setting up clusters and communication between clusters.

![](https://i.imgur.com/dVmhXgE.png)

In addition, the newly developed "Jobs" pane in RStudio 1.2, [released last month](https://blog.rstudio.com/2019/04/30/rstudio-1-2-release/), means you can keep being productive even while you have your scripts running in the background. A great resource for those interested is the CRAN Task View for high performance and parallel computing available [here](https://cran.r-project.org/web/views/HighPerformanceComputing.html)

A few other resources:

- [Vectorization in R - Noam Ross](http://www.noamross.net/blog/2014/4/16/vectorization-in-r--why.html)
- Chapters 3 & 4 on vectorization of the classic: [R Inferno - Patrick Burns](http://www.burns-stat.com/pages/Tutor/R_inferno.pdf)
- ["What does it mean to write 'vectorized' code in R?" - Win-Vector](http://www.win-vector.com/blog/2019/01/what-does-it-mean-to-write-vectorized-code-in-r/)
- The [functionals](http://adv-r.had.co.nz/Functionals.html) and [Optimizing code](http://adv-r.had.co.nz/Profiling.html) sections of [Advanced R - Hadley Wickham](http://adv-r.had.co.nz/)
- [Using RStudio Jobs for training many models in parallel - Edwin Thoen](https://edwinth.github.io/blog/parallel-jobs/)

# LTs

## @ill_identified 	Guide to MCMC with the `bayesplot` package!

- [Slides](https://www.slideshare.net/SatoshiKatagiri2/bayesplot)

`@ill_identified` presented on using Markov chain Monte Carlo (MCMC) with R, specifically using the `bayesplot` package. MCMC are a series of methods that contain algorithms for sampling from a probability distribution. These methods involve drawing random samples from a target distributions using an algorithms (such as Metropolis-Hastings algorithm, reversible jump, HMC, etc.) then we attempt to construct a Markov chain such that its equilibrium probability distrubution is as close to our target distribution as possible by iterating the chain many times.

![](https://i.imgur.com/yuwkwO2.png)

As I'm not familiar with MCMC very much I won't go into too much detail here, however for others unfamiliar with MCMC and bayesian inference,`@ill_identified` provided a nice list of books to get you started:

- [Bayesian Data Analysis - Gelman et al.]()
- [Introduction to Bayesian Statistics with R (Japanese) - Okumura et al.](https://github.com/okumuralab/bayesbook)
- [Bayesian Modeling with Stan & R (Japanese) - Matsuura et al.](https://github.com/MatsuuraKentaro/RStanBook)

Just recently [TJ Mahr](https://twitter.com/tjmahr), one of the authors of `bayesplot`, presented on the package at Chicago SatRDays. You can check out the slides out [here](https://www.tjmahr.com/bayesplot-satrdays-2019). The new version of `bayesplot`, 1.7.0, will also support tidyselect:

![](https://i.imgur.com/9nMS5nu.png)

Other resources: 

- [CRAN Task View: Bayesian Inference](https://cran.r-project.org/web/views/Bayesian.html)
- [bayesplot vignette: Plotting MCMC draws](https://cran.r-project.org/web/packages/bayesplot/vignettes/plotting-mcmc-draws.html)
- [Statistical Rethinking with brms, ggplot2, and the tidyverse - Solomon Kurz](https://bookdown.org/ajkurz/Statistical_Rethinking_recoded/markov-chain-monte-carlo.html)

## @Atsushi776 	May I felp you? 	

- [Slides](https://presentation.atusy.net/20190525-tokyor76-felp/#/)

`@Atsushi776` created a new package called [felp](https://github.com/atusy/felp) as he was annoyed that he couldn't look at the source code while looking at the help files of a function as well as the added annoyance of having to jump back to the start of the function to type `?` back in AND deleting it once you're done.

```{r eval=FALSE}
source("https://install-github.me/atusy/felp")
library(felp)
library(printr)

## From this:
?help()

## To this:
help?
## Alternatively:
felp(help)
felp("help")
```

```{r}
## Source code is nicely highlighted:
grep()?.
```

Short for __f__ unctional h __elp__, he got this to work by turning the `?` into a S3 object and using `prettycode` for the syntax highlighting. You can also use the `?` on dataset objects to return what you'll normally get from a `str()` call in addition the the help page.

```{r}
iris?. ## also opens "Help" page for the dataset
```

In the near future `@Atsushi776` wants to get rid of not just the `.` but the `?` altogether and wants to work on using a prefix `p?` in front of a package like `dplyr` to bring up the documentation for an entire package.

- [felp website](https://felp.atusy.net/)

## @0_u0 	マーケティングサイエンスとRについて 	

- [Slides](https://8-u8.github.io/TokyoR/20190525/Presentation.html#1)

- marketing science with R! 
- "data driven"
- what is marketing???
- KKD: domain knowledge, intuition
- Using R as a non-technical person >>> Excel? 
-


# Other Talks

- [saltcooky](https://twitter.com/saltcooky): [Statistical Network Analysis with R](https://speakerdeck.com/saltcooky12/sutoritosunatupudetani-tong-ji-de-netutowakufen-xi-falseshi-yong-woshi-mita)
- [GotaMorishita](https://twitter.com/GotaMorishita): [The origin of importance weight approach for covariate shift correction]()
- [neronkai](https://twitter.com/AsaKiriSun): [Creating pdf documents with R](https://www.slideshare.net/toirenomitorizudesu/rbinomn10-size-probsizeprobsize)

# Food, Drinks, and Conclusion

Following all of the talks, those who were staying for the after-party were served sushi and drinks! With a loud rendition of "kampai!" (cheers!) R users from all over Tokyo began to talk about their successes and struggles with R. A fun tradition at `TokyoR` is a __Rock-Paper-Scissors__ tournament with the prize being free data science books!

The prizes for this month was: 

- [Pandas for Everyone](https://github.com/chendaniely/pandas_for_everyone) by [Daniel Chen](https://twitter.com/chendaniely) provided by [Tom Kelly](https://twitter.com/tomkXY)

`TokyoR` happens almost monthly and it’s a great way to mingle with Japanese R users as it's the largest regular meetup here in Japan. Talks in English are also welcome so if you’re ever in Tokyo come join us!
